<!DOCTYPE html>
<html>

	<head>
		<script src="./bvh.js"></script>
		<script>
			function main() {
				var url = "../../files/Jackson.bvh";

				BVH.read(url, function(motion) {
				  // basic infomation about motion data
				  console.log("fps: " + 
				  1.0 / motion.frameTime + "   frames: " +
				  motion.numFrames + "\nnodes: \n" +

				  // get lists of nodes
				  motion.nodeList);

				  var id = "Neck";
				  var index = 4;

				  // get a node by id
				  var node = motion.of(id)

				  // change node's internal state to n-th frame
				  node.at(index)

				  // you can exchange the order of method "at" and "of"
				  var state = motion.at(index)
				  node = state.of(id)

				  // node properties
				  node.offsetX
				  node.offsetY
				  node.offsetZ
				  node.rotationX
				  node.rotationY
				  node.rotationZ

				  // node adjacent to "End Site" has properties about endOffset
				  if (node.hasEnd) {
				    node.endOffsetX
				    node.endOffsetY
				    node.endOffsetZ
				  }

				  console.log("\"" + id + "\"" + " frame " + index + ": pos (" + 				  
				  node.offsetX + ", " +
				  node.offsetY + ", " +
				  node.offsetZ + "), rot (" +
				  node.rotationX + ", " +
				  node.rotationY + ", " +
				  node.rotationZ + ")");

				});
			}

			window.onload = main;
		</script>
	</head>

	<body>
	</body>

</html>
